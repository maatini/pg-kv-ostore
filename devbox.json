{
    "$schema": "https://raw.githubusercontent.com/jetpack-io/devbox/main/.schema/devbox.schema.json",
    "packages": [
        "jdk@21",
        "maven",
        "docker-compose",
        "postgresql_16",
        "awscli2",
        "jq",
        "curl"
    ],
    "env": {
        "DOCKER_API_VERSION": "1.44",
        "DOCKER_HOST": "unix:///Users/martinrichardt/.docker/run/docker.sock",
        "TESTCONTAINERS_RYUK_DISABLED": "true"
    },
    "shell": {
        "init_hook": [
            "echo \"Welcome to the kv-ostore-psql development environment!\"",
            "echo \"JDK Version: $(java -version 2>&1 | head -n 1)\"",
            "echo \"Maven Version: $(mvn -version | head -n 1)\"",
            "export DOCKER_API_VERSION=1.44",
            "export DOCKER_HOST=unix:///Users/martinrichardt/.docker/run/docker.sock",
            "export TESTCONTAINERS_RYUK_DISABLED=true"
        ],
        "scripts": {
            "test": "mvn test",
            "dev": "mvn quarkus:dev",
            "build": "mvn package",
            "db:up": "docker-compose up -d postgres",
            "db:down": "docker-compose stop postgres"
        }
    }
}